<template>
  <div id="app">
  <p>{{ count }}</p>
  <strong>{{num}}</strong>
  <p>
    <button @click="increment">+</button>
    <button @click="decrement">-</button>
    <button @click="getDecrement">-</button>
  </p>
  </div>
</template>

<script>
import { mapState } from "vuex";
import { mapMutations } from "vuex";
import { mapActions } from "vuex";
export default {
  /**ğŸŒ™ stateä¸ºçŠ¶æ€æ ‘
   *
   */

  //â­mapStateæ˜¯ä¸ºäº†ç®€åŒ–è®¡ç®—å±æ€§

  name: "Home",
  //ğŸš€åŸå§‹å†™æ³•
  //  computed: {
  //    count(){
  //      return this.$store.state.count
  //    },
  //    num(){
  //      return this.$store.state.num
  //    }
  //  }

  //ğŸš€mapStateçš„ç¬¬ä¸€ç§å†™æ³•,é‡Œé¢çš„æ•°ç»„ä¹Ÿå¯ä»¥æ¢æˆå¯¹è±¡ï¼ˆğŸ˜æ¯”è¾ƒå–œæ¬¢çš„å†™æ³•ï¼‰
  computed: {
    ...mapState([
      // æ˜ å°„ this.count ä¸º store.state.count
      "count",
      "num"
    ])
  },

  //ğŸš€mapStateçš„ç¬¬äºŒç§å†™æ³•
  // computed:mapState({
  //   //åœ¨mapStateä¸­èƒ½è·å¾—storeé‡Œçš„stateå¯¹è±¡
  //   count: (state) => {
  //     console.log("state",state)
  //     return state.count
  //   },
  //   num:(state)=>{
  //     return state.num
  //   }
  // })

  /**
   * ğŸŒ™mutaionsç”¨äºåŒæ­¥
   *  */

  //â­mapMutationsæ˜¯ä¸ºäº†ç®€åŒ–æ–¹æ³•ï¼Œåˆ†å‘mutations
  //ç¬¬ä¸‰ç§å†™æ³•
  methods: {
    //ğŸš•åŸå§‹å†™æ³•
    // increment () {
    //   this.$store.commit('INCREMENT')
    // },
    // decrement () {
    // 	this.$store.commit('DECREMENT',{
    //     num:10
    //   })
    // }
    //ğŸš•ç¬¬äºŒç§å†™æ³•ï¼Œä¹Ÿå¯é‡‡ç”¨å¯¹è±¡å†™æ³•(ğŸ˜æ¯”è¾ƒå–œæ¬¢çš„å†™æ³•))
    // ...mapMutations([
    //   // å°† `this.increment()` æ˜ å°„ä¸º `this.$store.commit('INCREMENT')`
    //   "increment",
    //   "decrement"
    // ]),
    //ğŸš• ç¬¬ä¸‰ç§å†™æ³•
    // methods:mapMutations([
    //     "increment",
    //     "decrement"
    // ]),

    /**ğŸŒ™
     * actionä¸ºå¤„ç†å¼‚æ­¥,å¯ä»¥è¿”å›ä¸€ä¸ªpromiseå¯¹è±¡
     * */

    //â­ğŸ˜mapActionsæ˜¯ä¸ºäº†ç®€åŒ–æ–¹æ³•ï¼Œåˆ†å‘actions(ğŸ˜æ¯”è¾ƒå–œæ¬¢çš„å†™æ³•))
    ...mapActions([
      //å°† `this.increment()` æ˜ å°„ä¸º `this.$store.dispatch('increment')`
      "increment",
      "decrement"
    ]),
  //mapActionså’ŒmapMutationsä¼ å‚ï¼Œéœ€è¦å€ŸåŠ©å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å‚è¦æ¯”åŸå§‹çš„å†™æ³•ç¹çï¼Œé€‚ç”¨äºä¸ä¼ å‚çš„æƒ…å†µ
    getDecrement(){
      console.log("getDecrement")
      this.decrement({num:33})
    }
  }
};
//ä»¥ä¸‹å†™æ³•åŒmutationså’Œstateç›¸åŒå°±çœç•¥äº†
</script>

